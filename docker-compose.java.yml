version: '2.3'
services:
  api-server:
    working_dir: /opt/raster-foundry/app-backend/api/target/scala-2.11/
    entrypoint: java
    command:
      - "-Dcom.sun.management.jmxremote.rmi.port=9010"
      - "-Dcom.sun.management.jmxremote=true"
      - "-Dcom.sun.management.jmxremote.port=9010"
      - "-Dcom.sun.management.jmxremote.ssl=false"
      - "-Dcom.sun.management.jmxremote.authenticate=false"
      - "-Dcom.sun.management.jmxremote.local.only=false"
      - "-Djava.rmi.server.hostname=localhost"
      - "-jar"
      - "api-assembly.jar"

  backsplash:
    working_dir: /opt/raster-foundry/app-backend/backsplash-server/target/scala-2.11/
    entrypoint: java
    command:
      - "-Dcom.sun.management.jmxremote.rmi.port=9030"
      - "-Dcom.sun.management.jmxremote=true"
      - "-Dcom.sun.management.jmxremote.port=9030"
      - "-Dcom.sun.management.jmxremote.ssl=false"
      - "-Dcom.sun.management.jmxremote.authenticate=false"
      - "-Dcom.sun.management.jmxremote.local.only=false"
      - "-Djava.rmi.server.hostname=localhost"
      - "-jar"
      - "backsplash-assembly.jar"
