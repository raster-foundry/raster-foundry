package com.rasterfoundry.backsplash

import cats.effect.IO
import org.scalacheck._


object BacksplashImageGen {

  val images: Gen[BacksplashImage] = Gen.oneOf(
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559492000N10408W/IPR201411221559492000N10408W-COG.tif", "POLYGON ((-104.1936344763322921 19.9014340824826412, -103.9712880925410587 19.9014340824826412, -103.9712880925410587 20.1002915662426247, -104.1936344763322921 20.1002915662426247, -104.1936344763322921 19.9014340824826412))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559491998N10407W/IPR201411221559491998N10407W-COG.tif", "POLYGON ((-104.1796244740306037 19.8848075532145465, -103.9572741437284691 19.8848075532145465, -103.9572741437284691 20.0836685665719479, -104.1796244740306037 20.0836685665719479, -104.1796244740306037 19.8848075532145465))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559482003N10411W/IPR201411221559482003N10411W-COG.tif", "POLYGON ((-104.2212504808023397 19.9341966146392231, -103.9989125196742776 19.9341966146392231, -103.9989125196742776 20.1330465655148139, -104.2212504808023397 20.1330465655148139, -104.2212504808023397 19.9341966146392231))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559482002N10410W/IPR201411221559482002N10410W-COG.tif", "POLYGON ((-104.2072344784983216 19.9175723039143904, -103.9848939334826952 19.9175723039143904, -103.9848939334826952 20.1164245657129754, -104.2072344784983216 20.1164245657129754, -104.2072344784983216 19.9175723039143904))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559482005N10412W/IPR201411221559482005N10412W-COG.tif", "POLYGON ((-104.2348564830741395 19.9503328353907996, -104.0125232416950212 19.9503328353907996, -104.0125232416950212 20.1491785651165536, -104.2348564830741395 20.1491785651165536, -104.2348564830741395 19.9503328353907996))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559472008N10415W/IPR201411221559472008N10415W-COG.tif", "POLYGON ((-104.2624904878600205 19.9830916276259423, -104.0401637234161996 19.9830916276259423, -104.0401637234161996 20.1819315646464617, -104.2624904878600205 20.1819315646464617, -104.2624904878600205 19.9830916276259423))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559472007N10414W/IPR201411221559472007N10414W-COG.tif", "POLYGON ((-104.2484664853458298 19.9664665587088166, -104.0261351709859809 19.9664665587088166, -104.0261351709859809 20.1653105649875464, -104.2484664853458298 20.1653105649875464, -104.2484664853458298 19.9664665587088166))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559462015N10421W/IPR201411221559462015N10421W-COG.tif", "POLYGON ((-104.3173794974141089 20.0481095591675960, -104.0948358224047041 20.0481095591675960, -104.0948358224047041 20.2469395638890965, -104.3173794974141089 20.2469395638890965, -104.3173794974141089 20.0481095591675960))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559462011N10418W/IPR201411221559462011N10418W-COG.tif", "POLYGON ((-104.2897224926173436 20.0153591271233182, -104.0674029959914009 20.0153591271233182, -104.0674029959914009 20.2141925641056730, -104.2897224926173436 20.2141925641056730, -104.2897224926173436 20.0153591271233182))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559462013N10419W/IPR201411221559462013N10419W-COG.tif", "POLYGON ((-104.3037564950319620 20.0319785187866728, -104.0812105361363820 20.0319785187866728, -104.0812105361363820 20.2308105640294009, -104.3037564950319620 20.2308105640294009, -104.3037564950319620 20.0319785187866728))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559452016N10422W/IPR201411221559452016N10422W-COG.tif", "POLYGON ((-104.3310054999006269 20.0642408386944169, -104.1084643764478983 20.0642408386944169, -104.1084643764478983 20.2630685637464261, -104.3310054999006269 20.2630685637464261, -104.3310054999006269 20.0642408386944169))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559452020N10425W/IPR201411221559452020N10425W-COG.tif", "POLYGON ((-104.3586785050134580 20.0969890479703857, -104.1361420931186501 20.0969890479703857, -104.1361420931186501 20.2958125635157458, -104.3586785050134580 20.2958125635157458, -104.3586785050134580 20.0969890479703857))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559442021N10426W/IPR201411221559442021N10426W-COG.tif", "POLYGON ((-104.3727265076418007 20.1133789739091959, -104.1501922586500370 20.1133789739091959, -104.1501922586500370 20.3124285634274280, -104.3727265076418007 20.3124285634274280, -104.3727265076418007 20.1133789739091959))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559442025N10429W/IPR201411221559442025N10429W-COG.tif", "POLYGON ((-104.4000055126254836 20.1458574512695883, -104.1774751487485275 20.1458574512695883, -104.1774751487485275 20.3446755632580363, -104.4000055126254836 20.3446755632580363, -104.4000055126254836 20.1458574512695883))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559432026N10430W/IPR201411221559432026N10430W-COG.tif", "POLYGON ((-104.4140705145363199 20.1624529113438662, -104.1915462626450477 20.1624529113438662, -104.1915462626450477 20.3612655626238066, -104.4140705145363199 20.3612655626238066, -104.4140705145363199 20.1624529113438662))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559432029N10433W/IPR201411221559432029N10433W-COG.tif", "POLYGON ((-104.4413805183939417 20.1946683564680711, -104.2188701974717446 20.1946683564680711, -104.2188701974717446 20.3934685612264559, -104.4413805183939417 20.3934685612264559, -104.4413805183939417 20.1946683564680711))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559422031N10434W/IPR201411221559422031N10434W-COG.tif", "POLYGON ((-104.4554545204121752 20.2112620939845442, -104.2329506220147692 20.2112620939845442, -104.2329506220147692 20.4100565605855060, -104.4554545204121752 20.4100565605855060, -104.4554545204121752 20.2112620939845442))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559422033N10436W/IPR201411221559422033N10436W-COG.tif", "POLYGON ((-104.4691175224986637 20.2273671793986374, -104.2466181972513084 20.2273671793986374, -104.2466181972513084 20.4261575601524044, -104.4691175224986637 20.4261575601524044, -104.4691175224986637 20.2273671793986374))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559422034N10437W/IPR201411221559422034N10437W-COG.tif", "POLYGON ((-104.4827825244827864 20.2434725772963375, -104.2602903609756027 20.2434725772963375, -104.2602903609756027 20.4422565594462249, -104.4827825244827864 20.4422565594462249, -104.4827825244827864 20.2434725772963375))", List(2, 1, 0)),
    BacksplashImage("s3://radiant-nasa-iserv/2014/11/22/IPR201411221559412039N10441W/IPR201411221559412039N10441W-COG.tif", "POLYGON ((-104.5246255308241103 20.2925303319224604, -104.3019207577935958 20.2925303319224604, -104.3019207577935958 20.4915285579773645, -104.5246255308241103 20.4915285579773645, -104.5246255308241103 20.2925303319224604))", List(2, 1, 0))
  )

  val mosaic: Gen[BacksplashMosaic] = images.map({ img => fs2.Stream.eval(IO.pure(img)) })

  implicit val arbImages = Arbitrary(images)

  implicit val arbMosaic: Arbitrary[BacksplashMosaic] = Arbitrary {
    Gen.nonEmptyContainerOf[List, BacksplashMosaic](mosaic).map(_.reduce(_ ++ _))
  }
}
