<div class="list-group-item has-action {{$ctrl.isDisabled ? 'is-disabled' : ''}}">
  <div ng-if="$ctrl.isDraggable" ui-tree-handle>
    <i class="icon-gripper"></i>
  </div>
  <img ng-if="$ctrl.scene.thumbnails[0]"
       ng-attr-src="{{$ctrl.thumbnailService.getBestFitUrl($ctrl.scene.thumbnails, 75)}}"
       class="rounded-img item-img">
  <div ng-if="!$ctrl.scene.thumbnails.length"
       class="rounded-img item-img image-placeholder"></div>
  <div class="list-group-overflow">
    <div>
      <span title="{{$ctrl.scene.name}}">
        <strong class="color-dark">{{$ctrl.scene.createdAt | date}}</strong>
      </span>
    </div>
    <div>
      <span title="{{$ctrl.datasource.name}}">{{$ctrl.datasourceLoaded ? $ctrl.datasource.name : 'Loading datasource'}}</span>
    </div>
    <div>
      <rf-status-tag entity-type="scene" status="$ctrl.scene.statusFields.ingestStatus"></rf-status-tag>
    </div>
  </div>
  <div class="list-group-right">
    <button class="btn btn-square"
            ng-click="$ctrl.toggleSelected($event)"
            ng-if="$ctrl.isSelectable && !$ctrl.isDisabled"
            ng-class="{'btn-secondary': $ctrl.selectedStatus}">
      <i ng-class="{
                   'icon-plus': !$ctrl.selectedStatus,
                   'icon-cross': $ctrl.selectedStatus
                   }"></i>
    </button>
    <button class="btn btn-square"
            ng-click="$ctrl.onAction($event)"
            ng-if="$ctrl.actionIcon">
      <i ng-class="$ctrl.actionIcon"></i>
    </button>
    <div ng-if="$ctrl.isEditable">
      <div class="dropdown btn-group" uib-dropdown>
        <button class="btn" ng-click="$ctrl.onView()">View</button>
        <button type="button" class="btn" uib-dropdown-toggle>
          <i class="icon-caret-down"></i>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu role="menu">
          <li role="menuitem">
            <a href ng-click="$ctrl.onDownload()"><i class="icon-download"></i>Download</a>
          </li>
          <li role="menuitem">
            <a><i class="icon-unlocked"></i>Make public</a>
          </li>
          <li class="divider"></li>
          <li role="menuitem">
            <a href><i class="icon-trash"></i>Delete</a>
          </li>
        </ul>
      </div>
    </div>
    <ng-transclude>
    </ng-transclude>
  </div>
</div>
