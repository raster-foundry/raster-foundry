<div class="sidebar-static">
  <p>
    <strong class="color-dark">{{$ctrl.scene.name}}</strong><br>
    {{$ctrl.datasourceLoaded ? $ctrl.datasource.name : 'Loading datasource'}}
  </p>
  <div class="sidebar-actions">
    <button class="btn btn-square" ng-click="$ctrl.onCloseClick()">
      <i class="icon-cross"></i>
    </button>
  </div>
</div>
<div class="sidebar-scrollable">
  <div class="content">
    <img ng-if="$ctrl.scene.thumbnails.length && $ctrl.showThumbnail"
        ng-attr-src="{{$ctrl.thumbnailService.getBestFitUrl($ctrl.scene.thumbnails, 275)}}"
        class="center-img rounded-img detail-img">
    <div ng-if="!$ctrl.scene.thumbnails.length && $ctrl.showThumbnail"
         class="center-img rounded-img detail-img image-placeholder block-placeholder color-white">
         <div>No scene preview available</div>
    </div>
    <h5 class="color-dark">Scene properties</h5>
    <dl class="meta-list">
      <dt ng-repeat-start="(field, value) in $ctrl.scene.filterFields">
        {{field}}
      </dt>
      <dd ng-repeat-end>{{value}}</dd>
      <dt ng-if-start="$ctrl.scene.createdAt">Created Date</dt>
      <dd ng-if-end>{{$ctrl.scene.createdAt | date}}</dd>
      <dt ng-if-start="$ctrl.scene.modifiedAt">Modified Date</dt>
      <dd ng-if-end>{{$ctrl.scene.modifiedAt | date}}</dd>
      <dt ng-if-start="$ctrl.scene.datasource">Datasource</dt>
      <dd ng-if-end>{{$ctrl.scene.datasource}}</dd>
      <dt>Visiblity</dt>
      <dd>{{$ctrl.scene.visibility}}</dd>
      <dt ng-repeat-start="(field, value) in $ctrl.scene.statusFields">
        {{field}}
      </dt>
      <dd ng-repeat-end>{{value}}</dd>
    </dl>
    <h5 class="color-dark">Scene metadata</h5>
    <dl class="meta-list">
      <dt ng-repeat-start="(metaKey, metaVal) in $ctrl.scene.sceneMetadata">
        {{metaKey}}
      </dt>
      <dd ng-repeat-end>{{metaVal}}</dd>
    </dl>
  </div>
</div>
<div class="sidebar-static">
  <div class="sidebar-actions">
    <button class="btn"
            ng-class="$ctrl.isSelected ? 'btn-secondary' : ''"
            ng-click="$ctrl.onSelectClick()">
      <span ng-if="!$ctrl.isSelected">
        Select Scene
      </span>
      <span ng-if="$ctrl.isSelected">
        Deselect
      </span>
    </button>
  </div>
</div>
